# –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ–≥–æ–≤ –≤ –ø—Ä–æ–º–ø—Ç

–¢–µ–ø–µ—Ä—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–∞–Ω–µ–µ —Ç–µ–≥–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è** –≤ –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–≥–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–∑–±–µ–≥–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ö–æ–∂–∏—Ö —Ç–µ–≥–æ–≤

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ü–µ—Ä–≤—ã–π –±–∞—Ç—á - —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–µ —Ç–µ–≥–∏
result1, tags1 = pipeline.tag(df1, text_column="text", tag_prompt=prompt)

# –í—Ç–æ—Ä–æ–π –±–∞—Ç—á - —Ç–µ–≥–∏ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –±–∞—Ç—á–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç
result2, tags2 = pipeline.tag(df2, text_column="text", tag_prompt=prompt, existing_tags=tags1)
```

### 2. –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç

–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç **—Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ** –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `tag_prompt`:

**–ë—ã–ª–æ:**
```
[–í–∞—à –ø—Ä–æ–º–ø—Ç]

[–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–≥–∏]

–û–±—Ä–∞—â–µ–Ω–∏—è –¥–ª—è —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
[...]

–í–ê–ñ–ù–û: –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON –º–∞—Å—Å–∏–≤ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å [ –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è ]), 
–≥–¥–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã —Ç–µ–≥–∏ –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è.

–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –º–∞—Å—Å–∏–≤):
[...]
```

**–°—Ç–∞–ª–æ:**
```
[–í–∞—à –ø—Ä–æ–º–ø—Ç]

[–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–≥–∏ - –µ—Å–ª–∏ –µ—Å—Ç—å]

–û–±—Ä–∞—â–µ–Ω–∏—è –¥–ª—è —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
[...]

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –≤–∞–ª–∏–¥–Ω—ã–π JSON –º–∞—Å—Å–∏–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
[...]

–ü—Ä–∞–≤–∏–ª–∞:
- –ú–∞–∫—Å–∏–º—É–º N —Ç–µ–≥–æ–≤
- ...
```

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ markdown –±–ª–æ–∫–æ–≤ (```)
- –ü–æ–ø—ã—Ç–∫–∞ –æ–±–µ—Ä–Ω—É—Ç—å –≤ –º–∞—Å—Å–∏–≤ –µ—Å–ª–∏ LLM –≤–µ—Ä–Ω—É–ª–∞ –æ–±—ä–µ–∫—Ç
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **show_prompt_example.py** - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
2. **test_new_prompt.py** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Ç–µ–≥–∞–º–∏
3. **CHANGELOG.md** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **CHANGES_SUMMARY.md** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **–†–ï–ó–Æ–ú–ï_–ò–ó–ú–ï–ù–ï–ù–ò–ô.md** - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:

```python
from llm_tags import TaggingPipeline, OllamaLLM

# –°–æ–∑–¥–∞–µ–º LLM –∏ pipeline
llm = OllamaLLM()
pipeline = TaggingPipeline(llm=llm)

# –í–∞—à –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–ø—Ç - —Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
prompt = """–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ–±—Ä–∞—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏ —Ç–µ–≥–∏.
–¢–µ–≥–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç—Ä–∞–∂–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é —Ç–µ–º—É –æ–±—Ä–∞—â–µ–Ω–∏—è."""

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
result_df, tags_dict = pipeline.tag(
    df,
    text_column="text",
    tag_prompt=prompt,
    max_tags=2
)
```

### –ü—Ä–∏–º–µ—Ä —Å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ–º —Ç–µ–≥–æ–≤:

```python
# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –±–∞—Ç—á
result1, tags1 = pipeline.tag(df1, text_column="text", tag_prompt=prompt)
print(f"–ù–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤: {len(tags1)}")

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Ç–æ—Ä–æ–π –±–∞—Ç—á - –ø–µ—Ä–µ–¥–∞–µ–º —Ç–µ–≥–∏ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ
result2, tags2 = pipeline.tag(df2, text_column="text", tag_prompt=prompt, existing_tags=tags1)
print(f"–í—Å–µ–≥–æ —Ç–µ–≥–æ–≤: {len(tags2)}")

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç—Ä–µ—Ç–∏–π –±–∞—Ç—á - –ø–µ—Ä–µ–¥–∞–µ–º –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ —Ç–µ–≥–∏
result3, tags3 = pipeline.tag(df3, text_column="text", tag_prompt=prompt, existing_tags=tags2)
print(f"–í—Å–µ–≥–æ —Ç–µ–≥–æ–≤: {len(tags3)}")
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø–µ—Ä–µ–¥–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ–º–ø—Ç  
‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - —Ç–µ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ç–µ–≥–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å  

## üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:
```bash
python show_prompt_example.py
```

–ò–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π LLM:
```bash
python test_new_prompt.py
```

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –ò–∑–º–µ–Ω–µ–Ω—ã –º–µ—Ç–æ–¥—ã `tag_batch` –≤ –∫–ª–∞—Å—Å–∞—Ö `OllamaLLM` –∏ `OpenAICompatibleLLM`
- API –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è - —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ `tag()`
- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —É–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON

---

**–î–∞—Ç–∞:** 30 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

